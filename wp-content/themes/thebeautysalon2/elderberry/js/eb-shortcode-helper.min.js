var tinymce,tinyMCE,tb_show,tb_remove;(function(){tinymce.create("tinymce.plugins.ebShortcode",{init:function(e,t){e.addButton("ebShortcode",{title:"Create shortcode",onclick:function(){tb_show("Shortcode Helper","#TB_inline?inlineId=eb-shortcode-helper")}})},createControl:function(e,t){return null},getInfo:function(){return{longname:"Elderberry Shortcode Helper",author:"Elderberry"}}});tinymce.PluginManager.add("ebShortcode",tinymce.plugins.ebShortcode)})();jQuery(document).ready(function(){jQuery(".eb-shortcode-helper").submit(function(e){e.preventDefault();var t="",n=jQuery("#shortcode-field").val(),r=jQuery('.eb-shortcode-helper .shortcode-list li[data-shortcode="'+n+'"] .shortcode-example').html();if(typeof r=="undefined"||r===""||r===null||jQuery('.eb-shortcode-helper .shortcode-list li[data-shortcode="'+n+'"] .shortcode-example').length===0){var i=jQuery(".eb-shortcode-helper .eb-shortcode-parameters-"+n+" input"),s="";jQuery.each(i,function(){s=s+" "+jQuery(this).attr("name")+'="'+jQuery(this).val()+'"'});t=n+" "+s;""===tinyMCE.activeEditor.selection.getContent()?tinyMCE.activeEditor.execCommand("mceInsertContent",!1,"["+t+"]"):tinyMCE.activeEditor.execCommand("mceReplaceContent",!1," ["+t+"]"+tinyMCE.activeEditor.selection.getContent()+"[/"+n+"] ")}else{t=r;""===tinyMCE.activeEditor.selection.getContent()?tinyMCE.activeEditor.execCommand("mceInsertContent",!1,t):tinyMCE.activeEditor.execCommand("mceReplaceContent",!1,t)}jQuery(".eb-shortcode-helper .eb-shortcode-parameters").hide();jQuery.each(jQuery(".eb-shortcode-helper .eb-shortcode-parameters input"),function(){jQuery(this).val(jQuery(this).attr("data-value"));jQuery(".eb-shortcode-helper .eb-shortcode-parameters").hide()});jQuery("#shortcode-field").val("");tb_remove()});jQuery(".eb-shortcode-helper .shortcode-list li").click(function(){var e=jQuery(this).find(".shortcode-name").text();jQuery("#shortcode-field").val(e);jQuery(".eb-shortcode-helper .eb-shortcode-parameters").hide();jQuery.each(jQuery(".eb-shortcode-helper .eb-shortcode-parameters input"),function(){jQuery(this).val(jQuery(this).attr("data-value"))});jQuery(".eb-shortcode-helper .eb-shortcode-parameters-"+e).show()})});